var f=this.self||global;function g(a){debugger;switch(a||5){case 6:Extend(f,g["6"]);case 5.1:case 5:Extend(f,g["5"])}Object.name||Extend(f,g.ClassName);Date.prototype.toJSON&&24>(new Date).toJSON().length&&(Date.prototype.toJSON=k)}function l(a){this.a=a;this.c=-1}
function k(){var a=this.getUTCFullYear(),d=this.getUTCMonth()+1,b=this.getUTCDate(),c=this.getUTCHours(),e=this.getUTCMinutes(),h=this.getUTCSeconds(),j=this.getUTCMilliseconds();return a+"-"+(10>d?"0":"")+d+"-"+(10>b?"0":"")+b+"T"+(10>c?"0":"")+c+":"+(10>e?"0":"")+e+":"+(10>h?"0":"")+h+"."+("00"+j).slice(-3)+"Z"}
function m(a,d){var b=[];if(100<=d)throw new TypeError("Converting circular structure to JSON");if(null==a)return a+"";if(a.toJSON)return a.toJSON();var c=typeof a;if("boolean"===c||"number"===c)return""+a;if("string"===c)return'"'+n(a)+'"';if(a.nodeType||a.exec&&a.test)return"{}";var c=null,e=0,h=0;if(Array.isArray(a)){c={left:"[",right:"]"};e=0;for(h=a.length;e<h;++e)b.push(m(a[e],d+1))}else for(var c={left:"{",right:"}"},j=Object.keys(a),e=0,h=j.length;e<h;++e){var p=j[e];b.push('"'+n(p)+'":'+
m(a[p],d+1))}return c.left+b.join(",")+c.right}function n(a){var d={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return a.replace(/(?:[\b\t\n\f\r\"]|\\)/g,function(a){return d[a]}).replace(/(?:[\x00-\x1f])/g,function(a){return"\\u00"+("0"+a.charCodeAt(0).toString(16)).slice(-2)})}var q="process"in f;f.Extend||require("uupaa.extend.js");l.prototype.next=function(){var a=++this.c;return a>=this.a.length?{value:void 0,d:!0}:{value:[a,this.a[a]],d:!1}};g.name="ES";
g.repository="https://github.com/uupaa/ES.js";
g["5"]={Object:{keys:function(a){var d=[],b,c=0;if("hasOwnProperty"in a)for(b in a)a.hasOwnProperty(b)&&(d[c++]=b);else for(b in a)d[c++]=b;return d},freeze:function(){}},Array:{isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a)},prototype:{indexOf:function(a,d){for(var b=d||0,c=this.length,b=0>b?b+c:b;b<c;++b)if(b in this&&this[b]===a)return b;return-1},lastIndexOf:function(a,d){for(var b=d,c=this.length,b=0>b?b+c+1:c;0<=--b;)if(b in this&&this[b]===a)return b;return-1},
forEach:function(a,d){for(var b=0,c=this.length;b<c;++b)b in this&&a.call(d,this[b],b,this)},map:function(a,d){for(var b=[],c=0,e=this.length;c<e;++c)c in this&&(b[c]=a.call(d,this[c],c,this));return b},some:function(a,d){for(var b=0,c=this.length;b<c;++b)if(b in this&&a.call(d,this[b],b,this))return!0;return!1},every:function(a,d){for(var b=0,c=this.length;b<c;++b)if(b in this&&!a.call(d,this[b],b,this))return!1;return!0},filter:function(a,d){for(var b=[],c,e=0,h=this.length;e<h;++e)e in this&&(c=
this[e],a.call(d,c,e,this)&&b.push(c));return b},reduce:function(a,d){var b=d,c=0,e=this.length;if(void 0===b)for(;c<e;++c)if(c in this){b=this[c++];break}for(;c<e;++c)c in this&&(b=a(b,this[c],c,this));return b},reduceRight:function(a,d){var b=d,c=this.length-1;if(void 0===b)for(;0<=c;--c)if(c in this){b=this[c--];break}for(;0<=c;--c)c in this&&(b=a(b,this[c],c,this));return b}}},String:{prototype:{trim:function(){return this.replace(/^\s+/,"").replace(/\s+$/,"")}}},Function:{prototype:{bind:function(a,
d){function b(b){return e.apply(this instanceof c?this:a,Array.prototype.concat.call(h,Array.prototype.slice.call(arguments)))}function c(){}var e=this,h=Array.prototype.slice.call(arguments,1);c.prototype=e.prototype;b.prototype=new c;return b}}},Date:{now:function(){return+new Date},prototype:{toJSON:k}},JSON:{parse:function(a){var d=a.trim().replace(/"(\\.|[^"\\])*"/g,"");if(/[^,:{}\[\]0-9\.\-+Eaeflnr-u \n\r\t]/.test(d))throw new SyntaxError("Unexpected token:"+a);return(new Function("return "+
a))()},stringify:function(a){return m(a,0)}}};
g["6"]={Array:{of:function(a){return Array.prototype.slice.call(arguments)},from:function(a){for(var d=[],b=0,c=a.length;b<c;++b)d.push(a[b]);return d},prototype:{entries:function(){return new l(this)}}},String:{prototype:{repeat:function(a){a|=0;return this.length&&0<a?Array(a+1).join(this):""},reverse:function(){return this.split("").reverse().join("")}}},Number:{isNaN:function(a){return"number"===typeof a&&f.e(a)},isFinite:function(a){return"number"===typeof a&&f.b(a)},isInteger:function(a){return"number"===
typeof a&&f.b(a)&&-9007199254740992<a&&9007199254740992>a&&Math.floor(a)===a},toInteger:function(a){a=+a;return a!==a?0:0===a||!f.b(a)?a:(0>a?-1:1)*Math.floor(Math.abs(a))}}};g.ClassName={Object:{name:"Object"},Array:{name:"Array"},String:{name:"String"},Function:{name:"Function"},Date:{name:"Date"},JSON:{name:"JSON"},Error:{name:"Error"},Number:{name:"Number"},RegExp:{name:"RegExp"},Boolean:{name:"Boolean"},TypeError:{name:"TypeError"},SyntaxError:{name:"SyntaxError"}};q&&(module.exports=g);
f.ES?f.ES_=g:f.ES=g;
