var f=!1,h=this.self||global;function j(a){switch(a||5){case 6:k(l);case 5.1:case 5:k(n)}Object.name||k(p);k(q);Date.prototype.toJSON&&24>(new Date).toJSON().length&&(Date.prototype.toJSON=r)}function s(a){this.a=a;this.c=-1}function k(a){for(var d in a){d in j||(j[d]={});for(var b in a[d])if("prototype"===b){b in j[d]||(j[d][b]={});var c=a[d].prototype,e;for(e in c)u(h[d].prototype,e,c[e]),u(j[d].prototype,e,c[e])}else c=a[d][b],u(h[d],b,c),u(j[d],b,c)}}
function u(a,d,b,c){var e=Object.defineProperty||v;(c||f||!(d in a))&&e(a,d,{configurable:!0,enumerable:f,writable:!0,value:b})}function w(a,d,b){for(var c in d)u(a,c,d[c],b||f);return a}
function r(){var a=this.getUTCFullYear(),d=this.getUTCMonth()+1,b=this.getUTCDate(),c=this.getUTCHours(),e=this.getUTCMinutes(),g=this.getUTCSeconds(),m=this.getUTCMilliseconds();return a+"-"+(10>d?"0":"")+d+"-"+(10>b?"0":"")+b+"T"+(10>c?"0":"")+c+":"+(10>e?"0":"")+e+":"+(10>g?"0":"")+g+"."+("00"+m).slice(-3)+"Z"}
function x(a,d){var b=[];if(100<=d)throw new TypeError("Converting circular structure to JSON");if(null==a)return a+"";if(a.toJSON)return a.toJSON();var c=typeof a;if("boolean"===c||"number"===c)return""+a;if("string"===c)return'"'+y(a)+'"';if(a.nodeType||a.exec&&a.test)return"{}";var c=null,e=0,g=0;if(Array.isArray(a)){c={left:"[",right:"]"};e=0;for(g=a.length;e<g;++e)b.push(x(a[e],d+1))}else for(var c={left:"{",right:"}"},m=Object.keys(a),e=0,g=m.length;e<g;++e){var t=m[e];b.push('"'+y(t)+'":'+
x(a[t],d+1))}return c.left+b.join(",")+c.right}function y(a){var d={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return a.replace(/(?:[\b\t\n\f\r\"]|\\)/g,function(a){return d[a]}).replace(/(?:[\x00-\x1f])/g,function(a){return"\\u00"+("0"+a.charCodeAt(0).toString(16)).slice(-2)})}
function v(a,d,b){if(a.nodeType&&Object.defineProperty&&!Object.defineProperties)return Object.defineProperty(a,d,b);"value"in b&&(a[d]=b.value);b.get&&a.__defineGetter__&&a.__defineGetter__(d,b.get);b.set&&a.__defineSetter__&&a.__defineSetter__(d,b.set);return a}
var z="process"in h,n={Object:{keys:function(a){var d=[],b,c=0;if("hasOwnProperty"in a)for(b in a)a.hasOwnProperty(b)&&(d[c++]=b);else for(b in a)d[c++]=b;return d},freeze:function(){}},Array:{isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a)},prototype:{indexOf:function(a,d){for(var b=d||0,c=this.length,b=0>b?b+c:b;b<c;++b)if(b in this&&this[b]===a)return b;return-1},lastIndexOf:function(a,d){for(var b=d,c=this.length,b=0>b?b+c+1:c;0<=--b;)if(b in this&&this[b]===a)return b;
return-1},forEach:function(a,d){for(var b=0,c=this.length;b<c;++b)b in this&&a.call(d,this[b],b,this)},map:function(a,d){for(var b=[],c=0,e=this.length;c<e;++c)c in this&&(b[c]=a.call(d,this[c],c,this));return b},some:function(a,d){for(var b=0,c=this.length;b<c;++b)if(b in this&&a.call(d,this[b],b,this))return!0;return f},every:function(a,d){for(var b=0,c=this.length;b<c;++b)if(b in this&&!a.call(d,this[b],b,this))return f;return!0},filter:function(a,d){for(var b=[],c,e=0,g=this.length;e<g;++e)e in
this&&(c=this[e],a.call(d,c,e,this)&&b.push(c));return b},reduce:function(a,d){var b=d,c=0,e=this.length;if(void 0===b)for(;c<e;++c)if(c in this){b=this[c++];break}for(;c<e;++c)c in this&&(b=a(b,this[c],c,this));return b},reduceRight:function(a,d){var b=d,c=this.length-1;if(void 0===b)for(;0<=c;--c)if(c in this){b=this[c--];break}for(;0<=c;--c)c in this&&(b=a(b,this[c],c,this));return b}}},String:{prototype:{trim:function(){return this.replace(/^\s+/,"").replace(/\s+$/,"")}}},Function:{prototype:{bind:function(a,
d){function b(b){return e.apply(this instanceof c?this:a,Array.prototype.concat.call(g,Array.prototype.slice.call(arguments)))}function c(){}var e=this,g=Array.prototype.slice.call(arguments,1);c.prototype=e.prototype;b.prototype=new c;return b}}},Date:{now:function(){return+new Date},prototype:{toJSON:r}},JSON:{parse:function(a){var d=a.trim().replace(/"(\\.|[^"\\])*"/g,"");if(/[^,:{}\[\]0-9\.\-+Eaeflnr-u \n\r\t]/.test(d))throw new SyntaxError("Unexpected token:"+a);return(new Function("return "+
a))()},stringify:function(a){return x(a,0)}}},l={Array:{of:function(a){return Array.prototype.slice.call(arguments)},from:function(a){for(var d=[],b=0,c=a.length;b<c;++b)d.push(a[b]);return d},prototype:{entries:function(){return new s(this)}}},String:{prototype:{repeat:function(a){a|=0;return this.length&&0<a?Array(a+1).join(this):""},reverse:function(){return this.split("").reverse().join("")}}},Number:{isNaN:function(a){return"number"===typeof a&&h.e(a)},isFinite:function(a){return"number"===typeof a&&
h.b(a)},isInteger:function(a){return"number"===typeof a&&h.b(a)&&-9007199254740992<a&&9007199254740992>a&&Math.floor(a)===a},toInteger:function(a){a=+a;return a!==a?0:0===a||!h.b(a)?a:(0>a?-1:1)*Math.floor(Math.abs(a))}}},p={Object:{name:"Object"},Array:{name:"Array"},String:{name:"String"},Function:{name:"Function"},Date:{name:"Date"},JSON:{name:"JSON"},Error:{name:"Error"},Number:{name:"Number"},RegExp:{name:"RegExp"},Boolean:{name:"Boolean"},TypeError:{name:"TypeError"},SyntaxError:{name:"SyntaxError"}},
q={Object:{mixin:function(a,d,b){for(var c in d)if(b||!(c in a))a[c]=d[c];return a},polyfill:w,fallback:w}};s.prototype.next=function(){var a=++this.c;return a>=this.a.length?{value:void 0,d:!0}:{value:[a,this.a[a]],d:f}};j.name="ES";j.repository="https://github.com/uupaa/ES.js";z&&(module.exports=j);h.ES?h.ES_=j:h.ES=j;
