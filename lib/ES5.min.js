var f=this.self||global;function h(){j(l);Object.name||j(m);j(n);Date.prototype.toJSON&&24>(new Date).toJSON().length&&(Date.prototype.toJSON=p)}function j(c){for(var d in c){d in h||(h[d]={});for(var a in c[d])if("prototype"===a){a in h[d]||(h[d][a]={});var b=c[d].prototype,e;for(e in b)q(f[d].prototype,e,b[e]),q(h[d].prototype,e,b[e])}else b=c[d][a],q(f[d],a,b),q(h[d],a,b)}}
function q(c,d,a,b){var e=Object.defineProperty||s;(b||!(d in c))&&e(c,d,{configurable:!0,enumerable:!1,writable:!0,value:a})}function t(c,d,a){for(var b in d)q(c,b,d[b],a||!1);return c}
function p(){var c=this.getUTCFullYear(),d=this.getUTCMonth()+1,a=this.getUTCDate(),b=this.getUTCHours(),e=this.getUTCMinutes(),g=this.getUTCSeconds(),k=this.getUTCMilliseconds();return c+"-"+(10>d?"0":"")+d+"-"+(10>a?"0":"")+a+"T"+(10>b?"0":"")+b+":"+(10>e?"0":"")+e+":"+(10>g?"0":"")+g+"."+("00"+k).slice(-3)+"Z"}
function u(c,d){var a=[];if(100<=d)throw new TypeError("Converting circular structure to JSON");if(null==c)return c+"";if(c.toJSON)return c.toJSON();var b=typeof c;if("boolean"===b||"number"===b)return""+c;if("string"===b)return'"'+v(c)+'"';if(c.nodeType||c.exec&&c.test)return"{}";var b=null,e=0,g=0;if(Array.isArray(c)){b={left:"[",right:"]"};e=0;for(g=c.length;e<g;++e)a.push(u(c[e],d+1))}else for(var b={left:"{",right:"}"},k=Object.keys(c),e=0,g=k.length;e<g;++e){var r=k[e];a.push('"'+v(r)+'":'+
u(c[r],d+1))}return b.left+a.join(",")+b.right}function v(c){var d={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return c.replace(/(?:[\b\t\n\f\r\"]|\\)/g,function(a){return d[a]}).replace(/(?:[\x00-\x1f])/g,function(a){return"\\u00"+("0"+a.charCodeAt(0).toString(16)).slice(-2)})}
function s(c,d,a){if(c.nodeType&&Object.defineProperty&&!Object.defineProperties)return Object.defineProperty(c,d,a);"value"in a&&(c[d]=a.value);a.get&&c.__defineGetter__&&c.__defineGetter__(d,a.get);a.set&&c.__defineSetter__&&c.__defineSetter__(d,a.set);return c}
var w="process"in f,l={Object:{keys:function(c){var d=[],a,b=0;if("hasOwnProperty"in c)for(a in c)c.hasOwnProperty(a)&&(d[b++]=a);else for(a in c)d[b++]=a;return d},freeze:function(){}},Array:{isArray:function(c){return"[object Array]"===Object.prototype.toString.call(c)},prototype:{indexOf:function(c,d){for(var a=d||0,b=this.length,a=0>a?a+b:a;a<b;++a)if(a in this&&this[a]===c)return a;return-1},lastIndexOf:function(c,d){for(var a=d,b=this.length,a=0>a?a+b+1:b;0<=--a;)if(a in this&&this[a]===c)return a;
return-1},forEach:function(c,d){for(var a=0,b=this.length;a<b;++a)a in this&&c.call(d,this[a],a,this)},map:function(c,d){for(var a=[],b=0,e=this.length;b<e;++b)b in this&&(a[b]=c.call(d,this[b],b,this));return a},some:function(c,d){for(var a=0,b=this.length;a<b;++a)if(a in this&&c.call(d,this[a],a,this))return!0;return!1},every:function(c,d){for(var a=0,b=this.length;a<b;++a)if(a in this&&!c.call(d,this[a],a,this))return!1;return!0},filter:function(c,d){for(var a=[],b,e=0,g=this.length;e<g;++e)e in
this&&(b=this[e],c.call(d,b,e,this)&&a.push(b));return a},reduce:function(c,d){var a=d,b=0,e=this.length;if(void 0===a)for(;b<e;++b)if(b in this){a=this[b++];break}for(;b<e;++b)b in this&&(a=c(a,this[b],b,this));return a},reduceRight:function(c,d){var a=d,b=this.length-1;if(void 0===a)for(;0<=b;--b)if(b in this){a=this[b--];break}for(;0<=b;--b)b in this&&(a=c(a,this[b],b,this));return a}}},String:{prototype:{trim:function(){return this.replace(/^\s+/,"").replace(/\s+$/,"")}}},Function:{prototype:{bind:function(c,
d){function a(a){return e.apply(this instanceof b?this:c,Array.prototype.concat.call(g,Array.prototype.slice.call(arguments)))}function b(){}var e=this,g=Array.prototype.slice.call(arguments,1);b.prototype=e.prototype;a.prototype=new b;return a}}},Date:{now:function(){return+new Date},prototype:{toJSON:p}},JSON:{parse:function(c){var d=c.trim().replace(/"(\\.|[^"\\])*"/g,"");if(/[^,:{}\[\]0-9\.\-+Eaeflnr-u \n\r\t]/.test(d))throw new SyntaxError("Unexpected token:"+c);return(new Function("return "+
c))()},stringify:function(c){return u(c,0)}}},m={Object:{name:"Object"},Array:{name:"Array"},String:{name:"String"},Function:{name:"Function"},Date:{name:"Date"},JSON:{name:"JSON"},Error:{name:"Error"},Number:{name:"Number"},RegExp:{name:"RegExp"},Boolean:{name:"Boolean"},TypeError:{name:"TypeError"},SyntaxError:{name:"SyntaxError"}},n={Object:{mixin:function(c,d,a){for(var b in d)if(a||!(b in c))c[b]=d[b];return c},polyfill:t,fallback:t}};h.name="ES5";h.repository="https://github.com/uupaa/ES5.js";
w&&(module.exports=h);f.ES5?f.ES5_=h:f.ES5=h;
